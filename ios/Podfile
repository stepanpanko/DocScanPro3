# -- RN Pods bootstrap (works with pnpm & CI) -------------------------------
react_native_path = File.expand_path('../node_modules/react-native', __dir__)
require File.join(react_native_path, 'scripts', 'react_native_pods.rb')

platform :ios, '15.4'
prepare_react_native_project!

# Optional: enable frameworks via env (e.g. USE_FRAMEWORKS=static or dynamic)
linkage = ENV['USE_FRAMEWORKS']
if linkage && !linkage.empty?
  Pod::UI.puts "Configuring CocoaPods with #{linkage}ally linked frameworks".green
  use_frameworks! linkage: linkage.to_sym
end

target 'DocScanPro3Temp' do
  config = use_native_modules!

  use_react_native!(
    path: config[:reactNativePath],
    # Absolute path to the app root (required when running from ios/)
    app_path: "#{Pod::Config.instance.installation_root}/.."
  )

  post_install do |installer|
    react_native_post_install(
      installer,
      config[:reactNativePath],
      mac_catalyst_enabled: false
    )
  end
end